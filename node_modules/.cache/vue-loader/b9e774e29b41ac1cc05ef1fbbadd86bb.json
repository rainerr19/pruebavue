{"remainingRequest":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pruebavue\\src\\components\\tablaBoleta.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pruebavue\\src\\components\\tablaBoleta.vue","mtime":1604553070580},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgICBhbGVydHZhcmlhbnQ6Indhcm5pbmciLAogICAgICBkaXNtaXNzU2VjczogNSwKICAgICAgbWVuc2FqZTonJywKICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwKICAgICAgYm9sZXRhczpbIF0sCiAgICAgIGlkX2JvbGV0YTonJywKICAgICAgY2VkdWxhOicnfTsKICB9LAogbWV0aG9kczp7CiAgIG1vZGFsX2JvbGV0YShpZCl7CiAgICAgIHRoaXMuJHJlZnNbJ2FncmVnYXInXS5zaG93KCk7CiAgICAgdGhpcy5pZF9ib2xldGEgPSBpZDsKICAgfSwKICAgYWdyZWdhcihpZF9iKXsKICAgICBjb25zdCBkYXRvcyA9IHtjZWR1bGE6dGhpcy5jZWR1bGF9OwogICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0L3BydWViYWxhcmF2ZWwvcHVibGljL2FwaS9ib2xldGEvYXNpZ25hci8nK2lkX2IsZGF0b3MpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgLy8gIHRoaXMuJHJlZnNbJ2FncmVnYXInXS5oaWRlKCkKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ2FncmVnYXInXS5oaWRlKCk7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICdjb21wcmFkb3InKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0dmFyaWFudD0nd2FybmluZyc7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdDbGllbnRlIG5vIHJlZ2lzdHJhZG8nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PT0gJ2JvbGV0YScpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydHZhcmlhbnQ9J2Rhbmdlcic7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0KCdib2xldGEgbm8gZW5jb250cmFkYScpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0dmFyaWFudD0nc3VjY2Vzcyc7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dBbGVydCgnYm9sZXRhIGFzaWduYWRhJyk7CiAgICAgICAgICAgICAgICB0aGlzLmNlZHVsYSA9ICcnOwogICAgICAgICAgICAgICAgIHRoaXMubW9zdHJhcigpOwogICAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgICB9LAogICAgYXN5bmMgbW9zdHJhcigpCiAgICAgIHsKICAgICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdC9wcnVlYmFsYXJhdmVsL3B1YmxpYy9hcGkvYm9sZXRhJykudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5ib2xldGFzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRlbWl0KCdtb3N0cmFyJywnbW9zdHJhcicpOwogICAgICB9LCBjb3VudERvd25DaGFuZ2VkKGRpc21pc3NDb3VudERvd24pIHsKICAgICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSBkaXNtaXNzQ291bnREb3duOwogICAgICB9LAogICAgICBzaG93QWxlcnQobWVuc2FqZSkgewogICAgICAgIHRoaXMubWVuc2FqZSA9IG1lbnNhamU7CiAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gdGhpcy5kaXNtaXNzU2VjczsKICAgICAgfSwKCiAgICB9LAogICAgY3JlYXRlZCAoKXsKICAgICAgdGhpcy5tb3N0cmFyKCk7CiAgICB9CiAgICAKICB9Cg=="},{"version":3,"sources":["tablaBoleta.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"tablaBoleta.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"card\">\n  <div class=\"container-fluid\">\n   <b-alert\n      :show=\"dismissCountDown\"\n      dismissible\n     :variant=\"alertvariant\"\n      @dismissed=\"dismissCountDown=0\"\n      @dismiss-count-down=\"countDownChanged\"\n    > {{ mensaje }}\n    </b-alert>\n          <table class=\"table table-striped table-bordered\">\n              <thead class=\"thead-dark\">\n              <tr>\n                  <th> Nombre evento </th>\n                  <th> Descripción </th>\n                  <th> Limite</th>\n                  <th> Asignados </th>\n                  <th> Fecha de cierre </th>\n                  <th> Acciones </th>\n              </tr>\n              </thead>\n              <tbody>\n                  <tr v-for=\"boleta in boletas\" :key=\"boleta.id\">\n                      <td>{{boleta.nombre_evento}}</td>\n\n                  <td> {{boleta.descrip}} </td>\n                  <td> {{boleta.limite}} </td>\n                  <td> {{boleta.asignados}} </td>\n                  <td> {{boleta.fecha_cierre}} </td>\n                  \n                  <td> <button class=\"btn btn-info text-white\"  data-toggle=\"modal\" data-target=\"#agregar\"\n                   @click=\"modal_boleta(boleta.id)\">Asignar boleta</button> </td>\n                  </tr>\n              </tbody>\n          </table>\n         <b-modal ref=\"agregar\" hide-footer >\n          <template #modal-title>\n            Asignar boleta\n          </template>\n          <form action=\"\" v-on:submit.prevent=\"agregar(id_boleta)\">\n            \n            <div class=\"form-group\">\n                <label for=\"recipient-name\" class=\"col-form-label\">Cédula de cliente:</label>\n                <input type=\"number\" class=\"form-control\" v-model=\"cedula\" required>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Guardar</button>\n          </form>                  \n          </b-modal >\n\n  </div>\n\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\n\nexport default {\n  data(){\n    return {\n       alertvariant:\"warning\",\n      dismissSecs: 5,\n      mensaje:'',\n      dismissCountDown: 0,\n      boletas:[ ],\n      id_boleta:'',\n      cedula:''};\n  },\n methods:{\n   modal_boleta(id){\n      this.$refs['agregar'].show();\n     this.id_boleta = id;\n   },\n   agregar(id_b){\n     const datos = {cedula:this.cedula};\n            axios.post('http://localhost/pruebalaravel/public/api/boleta/asignar/'+id_b,datos).then((response) => {\n              //  this.$refs['agregar'].hide()\n                this.$refs['agregar'].hide();\n              if (response.data === 'comprador') {\n                this.alertvariant='warning';\n                  this.showAlert('Cliente no registrado');\n                } else if (response.data === 'boleta') {\n                  this.alertvariant='danger';\n                  this.showAlert('boleta no encontrada');\n              } else {\n                this.alertvariant='success';\n                this.showAlert('boleta asignada');\n                this.cedula = '';\n                 this.mostrar();\n              }\n        });\n\n          },\n    async mostrar()\n      {\n          axios.get('http://localhost/pruebalaravel/public/api/boleta').then((response) => {\n            this.boletas = response.data;\n        });\n        this.$emit('mostrar','mostrar');\n      }, countDownChanged(dismissCountDown) {\n        this.dismissCountDown = dismissCountDown;\n      },\n      showAlert(mensaje) {\n        this.mensaje = mensaje;\n        this.dismissCountDown = this.dismissSecs;\n      },\n\n    },\n    created (){\n      this.mostrar();\n    }\n    \n  }\n</script>\n\n"]}]}