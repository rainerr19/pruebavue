{"remainingRequest":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pruebavue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pruebavue\\src\\components\\tablaBoleta.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pruebavue\\src\\components\\tablaBoleta.vue","mtime":1613660731985},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3BydWViYXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAvLyBwcm9wczp7YWN0dWFsaXphOkZ1bmN0aW9ufSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxlcnR2YXJpYW50OiAid2FybmluZyIsCiAgICAgIGRpc21pc3NTZWNzOiA1LAogICAgICBtZW5zYWplOiAnJywKICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwKICAgICAgYm9sZXRhczogW10sCiAgICAgIGlkX2JvbGV0YTogJycsCiAgICAgIGNlZHVsYTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb2RhbF9ib2xldGE6IGZ1bmN0aW9uIG1vZGFsX2JvbGV0YShpZCkgewogICAgICB0aGlzLiRyZWZzWydhZ3JlZ2FyJ10uc2hvdygpOwogICAgICB0aGlzLmlkX2JvbGV0YSA9IGlkOwogICAgfSwKICAgIGRlbGV0ZV9ldmVudG86IGZ1bmN0aW9uIGRlbGV0ZV9ldmVudG8oaWRfYikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0L3BydWViYWxhcmF2ZWwvcHVibGljL2FwaS9ib2xldGEvZWxpbWluYXIvJyArIGlkX2IpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gIHRoaXMuJHJlZnNbJ2FncmVnYXInXS5oaWRlKCkKICAgICAgICAvLyBlbGltaW5hcgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICdubyBlbmNvbnRyYWRvJykgewogICAgICAgICAgX3RoaXMuYWxlcnR2YXJpYW50ID0gJ2Rhbmdlcic7CgogICAgICAgICAgX3RoaXMuc2hvd0FsZXJ0KCdib2xldGEgbm8gZW5jb250cmFkYScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIF90aGlzLmFsZXJ0dmFyaWFudCA9ICdzdWNjZXNzJzsKCiAgICAgICAgICBfdGhpcy5zaG93QWxlcnQoJ0V2ZW50byBFbGltaW5hZG8nKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLm1vc3RyYXIoKTsKICAgICAgfSk7CiAgICB9LAogICAgYWdyZWdhcjogZnVuY3Rpb24gYWdyZWdhcihpZF9iKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdG9zID0gewogICAgICAgIGNlZHVsYTogdGhpcy5jZWR1bGEKICAgICAgfTsKICAgICAgYXhpb3MucHV0KCdodHRwOi8vbG9jYWxob3N0L3BydWViYWxhcmF2ZWwvcHVibGljL2FwaS9ib2xldGEvYXNpZ25hci8nICsgaWRfYiwgZGF0b3MpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gIHRoaXMuJHJlZnNbJ2FncmVnYXInXS5oaWRlKCkKICAgICAgICBfdGhpczIuJHJlZnNbJ2FncmVnYXInXS5oaWRlKCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAnY29tcHJhZG9yJykgewogICAgICAgICAgX3RoaXMyLmFsZXJ0dmFyaWFudCA9ICd3YXJuaW5nJzsKCiAgICAgICAgICBfdGhpczIuc2hvd0FsZXJ0KCdDbGllbnRlIG5vIHJlZ2lzdHJhZG8nKTsKICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICdib2xldGEnKSB7CiAgICAgICAgICBfdGhpczIuYWxlcnR2YXJpYW50ID0gJ2Rhbmdlcic7CgogICAgICAgICAgX3RoaXMyLnNob3dBbGVydCgnYm9sZXRhIG5vIGVuY29udHJhZGEnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLmFsZXJ0dmFyaWFudCA9ICdzdWNjZXNzJzsKCiAgICAgICAgICBfdGhpczIuc2hvd0FsZXJ0KCdib2xldGEgYXNpZ25hZGEnKTsKCiAgICAgICAgICBfdGhpczIuY2VkdWxhID0gJyc7CgogICAgICAgICAgX3RoaXMyLm1vc3RyYXIoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG1vc3RyYXI6IGZ1bmN0aW9uIG1vc3RyYXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3QvcHJ1ZWJhbGFyYXZlbC9wdWJsaWMvYXBpL2JvbGV0YScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5ib2xldGFzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY291bnREb3duQ2hhbmdlZDogZnVuY3Rpb24gY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7CiAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd247CiAgICB9LAogICAgc2hvd0FsZXJ0OiBmdW5jdGlvbiBzaG93QWxlcnQobWVuc2FqZSkgewogICAgICB0aGlzLm1lbnNhamUgPSBtZW5zYWplOwogICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSB0aGlzLmRpc21pc3NTZWNzOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubW9zdHJhcigpOwogIH0KfTs="},{"version":3,"sources":["tablaBoleta.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,KAAA,MAAA,OAAA;AAGA,eAAA;AACA;AACA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,SADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,gBAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA;AAPA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,EADA,EACA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA,IAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,KAJA;AAMA,IAAA,aANA,yBAMA,IANA,EAMA;AAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,+DAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA;AACA;AACA,YAAA,QAAA,CAAA,IAAA,IAAA,eAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,QAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,sBAAA;AACA,SAHA,MAGA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,SAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,kBAAA;AACA;;AACA,QAAA,KAAA,CAAA,OAAA;AACA,OAZA;AAcA,KArBA;AAsBA,IAAA,OAtBA,mBAsBA,IAtBA,EAsBA;AAAA;;AACA,UAAA,KAAA,GAAA;AAAA,QAAA,MAAA,EAAA,KAAA;AAAA,OAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,8DAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,IAAA;;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,WAAA,EAAA;AACA,UAAA,MAAA,CAAA,YAAA,GAAA,SAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,uBAAA;AACA,SAHA,MAGA,IAAA,QAAA,CAAA,IAAA,KAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,YAAA,GAAA,QAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,sBAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,YAAA,GAAA,SAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,iBAAA;;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,EAAA;;AACA,UAAA,MAAA,CAAA,OAAA;AACA;AACA,OAfA;AAiBA,KAzCA;AA0CA,IAAA,OA1CA,qBA2CA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,GAAA,CAAA,kDAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AACA,iBAFA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KA/CA;AA+CA,IAAA,gBA/CA,4BA+CA,gBA/CA,EA+CA;AACA,WAAA,gBAAA,GAAA,gBAAA;AACA,KAjDA;AAkDA,IAAA,SAlDA,qBAkDA,OAlDA,EAkDA;AACA,WAAA,OAAA,GAAA,OAAA;AACA,WAAA,gBAAA,GAAA,KAAA,WAAA;AACA;AArDA,GAZA;AAoEA,EAAA,OApEA,qBAoEA;AACA,SAAA,OAAA;AACA;AAtEA,CAAA","sourcesContent":["<template>\n<div class=\"card\">\n  <div class=\"container-fluid\">\n   <b-alert\n      :show=\"dismissCountDown\"\n      dismissible\n     :variant=\"alertvariant\"\n      @dismissed=\"dismissCountDown=0\"\n      @dismiss-count-down=\"countDownChanged\"\n    > {{ mensaje }}\n    </b-alert>\n          <table class=\"table table-striped table-bordered\">\n              <thead class=\"thead-dark\">\n              <tr>\n                  <th> Nombre evento </th>\n                  <th> Descripción </th>\n                  <th> Limite</th>\n                  <th> Asignados </th>\n                  <th> Fecha de cierre </th>\n                  <th> Acciones </th>\n              </tr>\n              </thead>\n              <tbody>\n                  <tr v-for=\"boleta in boletas\" :key=\"boleta.id\">\n                      <td>{{boleta.nombre_evento}}</td>\n\n                  <td> {{boleta.descrip}} </td>\n                  <td> {{boleta.limite}} </td>\n                  <td> {{boleta.asignados}} </td>\n                  <td> {{boleta.fecha_cierre}} </td>\n                  \n                  <td> <button class=\"btn btn-info text-white m-1\"  data-toggle=\"modal\" data-target=\"#agregar\"\n                   @click=\"modal_boleta(boleta.id)\">Asignar boleta</button> \n                      <button class=\"btn btn-danger text-white m-1\"\n                   @click=\"delete_evento(boleta.id)\">Eliminar Evento</button>\n                   </td>\n                  </tr>\n              </tbody>\n          </table>\n         <b-modal ref=\"agregar\" hide-footer >\n          <template #modal-title>\n            Asignar boleta\n          </template>\n          <form action=\"\" v-on:submit.prevent=\"agregar(id_boleta)\">\n            \n            <div class=\"form-group\">\n                <label for=\"recipient-name\" class=\"col-form-label\">Cédula de cliente:</label>\n                <input type=\"number\" class=\"form-control\" v-model=\"cedula\" required>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Guardar</button>\n          </form>                  \n          </b-modal >\n\n  </div>\n\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\n\nexport default {\n  // props:{actualiza:Function},\n  data(){\n    return {\n       alertvariant:\"warning\",\n      dismissSecs: 5,\n      mensaje:'',\n      dismissCountDown: 0,\n      boletas:[ ],\n      id_boleta:'',\n      cedula:''};\n  },\n methods:{\n   modal_boleta(id){\n      this.$refs['agregar'].show();\n     this.id_boleta = id;\n   },\n     \n   delete_evento(id_b){\n            axios.delete('http://localhost/pruebalaravel/public/api/boleta/eliminar/'+id_b).then((response) => {\n              //  this.$refs['agregar'].hide()\n              // eliminar\n              if (response.data == 'no encontrado') {\n                 this.alertvariant='danger';\n                  this.showAlert('boleta no encontrada');\n              } else {\n                console.log(response.data);\n                this.alertvariant='success';\n                this.showAlert('Evento Eliminado');\n              }\n              this.mostrar();\n        });\n\n          },\n   agregar(id_b){\n     const datos = {cedula:this.cedula};\n            axios.put('http://localhost/pruebalaravel/public/api/boleta/asignar/'+id_b,datos).then((response) => {\n              //  this.$refs['agregar'].hide()\n                this.$refs['agregar'].hide();\n              if (response.data === 'comprador') {\n                this.alertvariant='warning';\n                  this.showAlert('Cliente no registrado');\n                } else if (response.data === 'boleta') {\n                  this.alertvariant='danger';\n                  this.showAlert('boleta no encontrada');\n              } else {\n                this.alertvariant='success';\n                this.showAlert('boleta asignada');\n                this.cedula = '';\n                 this.mostrar();\n              }\n        });\n\n          },\n    async mostrar()\n      {\n          axios.get('http://localhost/pruebalaravel/public/api/boleta').then((response) => {\n            this.boletas = response.data;\n        });\n      }, countDownChanged(dismissCountDown) {\n        this.dismissCountDown = dismissCountDown;\n      },\n      showAlert(mensaje) {\n        this.mensaje = mensaje;\n        this.dismissCountDown = this.dismissSecs;\n      }\n\n    },\n    created (){\n      this.mostrar();\n    }\n    \n  }\n</script>\n\n"],"sourceRoot":"src/components"}]}