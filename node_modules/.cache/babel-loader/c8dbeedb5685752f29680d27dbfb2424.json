{"remainingRequest":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pruebavue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pruebavue\\src\\components\\tablaBoleta.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pruebavue\\src\\components\\tablaBoleta.vue","mtime":1604553018827},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pruebavue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3BydWViYXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxlcnR2YXJpYW50OiAid2FybmluZyIsCiAgICAgIGRpc21pc3NTZWNzOiA1LAogICAgICBtZW5zYWplOiAnJywKICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwKICAgICAgYm9sZXRhczogW10sCiAgICAgIGlkX2JvbGV0YTogJycsCiAgICAgIGNlZHVsYTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb2RhbF9ib2xldGE6IGZ1bmN0aW9uIG1vZGFsX2JvbGV0YShpZCkgewogICAgICB0aGlzLiRyZWZzWydhZ3JlZ2FyJ10uc2hvdygpOwogICAgICB0aGlzLmlkX2JvbGV0YSA9IGlkOwogICAgfSwKICAgIGFncmVnYXI6IGZ1bmN0aW9uIGFncmVnYXIoaWRfYikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdG9zID0gewogICAgICAgIGNlZHVsYTogdGhpcy5jZWR1bGEKICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdC9wcnVlYmFsYXJhdmVsL3B1YmxpYy9hcGkvYm9sZXRhL2FzaWduYXIvJyArIGlkX2IsIGRhdG9zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vICB0aGlzLiRyZWZzWydhZ3JlZ2FyJ10uaGlkZSgpCiAgICAgICAgX3RoaXMuJHJlZnNbJ2FncmVnYXInXS5oaWRlKCk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAnY29tcHJhZG9yJykgewogICAgICAgICAgX3RoaXMuYWxlcnR2YXJpYW50ID0gJ3dhcm5pbmcnOwoKICAgICAgICAgIF90aGlzLnNob3dBbGVydCgnQ2xpZW50ZSBubyByZWdpc3RyYWRvJyk7CiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09PSAnYm9sZXRhJykgewogICAgICAgICAgX3RoaXMuYWxlcnR2YXJpYW50ID0gJ2Rhbmdlcic7CgogICAgICAgICAgX3RoaXMuc2hvd0FsZXJ0KCdib2xldGEgbm8gZW5jb250cmFkYScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5hbGVydHZhcmlhbnQgPSAnc3VjY2Vzcyc7CgogICAgICAgICAgX3RoaXMuc2hvd0FsZXJ0KCdib2xldGEgYXNpZ25hZGEnKTsKCiAgICAgICAgICBfdGhpcy5jZWR1bGEgPSAnJzsKCiAgICAgICAgICBfdGhpcy5tb3N0cmFyKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBtb3N0cmFyOiBmdW5jdGlvbiBtb3N0cmFyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0L3BydWViYWxhcmF2ZWwvcHVibGljL2FwaS9ib2xldGEnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuYm9sZXRhcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ21vc3RyYXInLCAnbW9zdHJhcicpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY291bnREb3duQ2hhbmdlZDogZnVuY3Rpb24gY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7CiAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd247CiAgICB9LAogICAgc2hvd0FsZXJ0OiBmdW5jdGlvbiBzaG93QWxlcnQobWVuc2FqZSkgewogICAgICB0aGlzLm1lbnNhamUgPSBtZW5zYWplOwogICAgICB0aGlzLmRpc21pc3NDb3VudERvd24gPSB0aGlzLmRpc21pc3NTZWNzOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubW9zdHJhcigpOwogIH0KfTs="},{"version":3,"sources":["tablaBoleta.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,OAAA,KAAA,MAAA,OAAA;AAGA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,SADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,gBAAA,EAAA,CAJA;AAKA,MAAA,OAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA;AAPA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,EADA,EACA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA,IAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,KAJA;AAKA,IAAA,OALA,mBAKA,IALA,EAKA;AAAA;;AACA,UAAA,KAAA,GAAA;AAAA,QAAA,MAAA,EAAA,KAAA;AAAA,OAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,8DAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA,EAAA,IAAA;;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,WAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,SAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,uBAAA;AACA,SAHA,MAGA,IAAA,QAAA,CAAA,IAAA,KAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,QAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,sBAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,SAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,iBAAA;;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,EAAA;;AACA,UAAA,KAAA,CAAA,OAAA;AACA;AACA,OAfA;AAiBA,KAxBA;AAyBA,IAAA,OAzBA,qBA0BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,GAAA,CAAA,kDAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AACA,iBAFA;;AAGA,gBAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,SAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KA/BA;AA+BA,IAAA,gBA/BA,4BA+BA,gBA/BA,EA+BA;AACA,WAAA,gBAAA,GAAA,gBAAA;AACA,KAjCA;AAkCA,IAAA,SAlCA,qBAkCA,OAlCA,EAkCA;AACA,WAAA,OAAA,GAAA,OAAA;AACA,WAAA,gBAAA,GAAA,KAAA,WAAA;AACA;AArCA,GAXA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,SAAA,OAAA;AACA;AArDA,CAAA","sourcesContent":["<template>\n<div class=\"card\">\n  <div class=\"container-fluid\">\n   <b-alert\n      :show=\"dismissCountDown\"\n      dismissible\n     :variant=\"alertvariant\"\n      @dismissed=\"dismissCountDown=0\"\n      @dismiss-count-down=\"countDownChanged\"\n    > {{ mensaje }}\n    </b-alert>\n          <table class=\"table table-striped table-bordered\">\n              <thead class=\"thead-dark\">\n              <tr>\n                  <th> Nombre evento </th>\n                  <th> Descripción </th>\n                  <th> Limite</th>\n                  <th> Asignados </th>\n                  <th> Fecha de cierre </th>\n                  <th> Acciones </th>\n              </tr>\n              </thead>\n              <tbody>\n                  <tr v-for=\"boleta in boletas\" :key=\"boleta.id\">\n                      <td>{{boleta.nombre_evento}}</td>\n\n                  <td> {{boleta.descrip}} </td>\n                  <td> {{boleta.limite}} </td>\n                  <td> {{boleta.asignados}} </td>\n                  <td> {{boleta.fecha_cierre}} </td>\n                  \n                  <td> <button class=\"btn btn-info text-white\"  data-toggle=\"modal\" data-target=\"#agregar\"\n                   @click=\"modal_boleta(boleta.id)\">Asignar boleta</button> </td>\n                  </tr>\n              </tbody>\n          </table>\n         <b-modal ref=\"agregar\" hide-footer >\n          <template #modal-title>\n            Asignar boleta\n          </template>\n          <form action=\"\" v-on:submit.prevent=\"agregar(id_boleta)\">\n            \n            <div class=\"form-group\">\n                <label for=\"recipient-name\" class=\"col-form-label\">Cédula de cliente:</label>\n                <input type=\"number\" class=\"form-control\" v-model=\"cedula\" required>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Guardar</button>\n          </form>                  \n          </b-modal >\n\n  </div>\n\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\n\nexport default {\n  data(){\n    return {\n       alertvariant:\"warning\",\n      dismissSecs: 5,\n      mensaje:'',\n      dismissCountDown: 0,\n      boletas:[ ],\n      id_boleta:'',\n      cedula:''};\n  },\n methods:{\n   modal_boleta(id){\n      this.$refs['agregar'].show();\n     this.id_boleta = id;\n   },\n   agregar(id_b){\n     const datos = {cedula:this.cedula};\n            axios.post('http://localhost/pruebalaravel/public/api/boleta/asignar/'+id_b,datos).then((response) => {\n              //  this.$refs['agregar'].hide()\n                this.$refs['agregar'].hide();\n              if (response.data === 'comprador') {\n                this.alertvariant='warning';\n                  this.showAlert('Cliente no registrado');\n                } else if (response.data === 'boleta') {\n                  this.alertvariant='danger';\n                  this.showAlert('boleta no encontrada');\n              } else {\n                this.alertvariant='success';\n                this.showAlert('boleta asignada');\n                this.cedula = '';\n                 this.mostrar();\n              }\n        });\n\n          },\n    async mostrar()\n      {\n          axios.get('http://localhost/pruebalaravel/public/api/boleta').then((response) => {\n            this.boletas = response.data;\n        });\n        this.$emit('mostrar','mostrar');\n      }, countDownChanged(dismissCountDown) {\n        this.dismissCountDown = dismissCountDown;\n      },\n      showAlert(mensaje) {\n        this.mensaje = mensaje;\n        this.dismissCountDown = this.dismissSecs;\n      },\n\n    },\n    created (){\n      this.mostrar();\n    }\n    \n  }\n</script>\n\n"],"sourceRoot":"src/components"}]}